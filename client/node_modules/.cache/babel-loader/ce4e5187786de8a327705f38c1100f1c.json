{"ast":null,"code":"import { call, all, takeLatest, put } from \"@redux-saga/core/effects\";\nimport UserActionTypes from \"./user.type\";\nimport { signInSuccess, signInFailure } from '../../redux/user/user.action';\nimport { provider, auth, createUserProfileDocument } from \"../../firebase/firebase.utils\";\nexport function* googleSignIn() {\n  try {\n    const {\n      user\n    } = yield auth.signInWithPopup(provider);\n    const userRef = yield call(createUserProfileDocument, user);\n    const userSnapShot = yield userRef.get();\n    yield put(signInSuccess({\n      id: userSnapShot.id,\n      ...userSnapShot.data()\n    }));\n  } catch (error) {\n    yield put(signInFailure(error.message));\n  }\n}\nexport function* onSignInWithGoogle() {\n  yield takeLatest(UserActionTypes.GOOGLE_SIGN_IN_START, googleSignIn);\n}\nexport function* userSaga() {\n  yield all([call(onSignInWithGoogle)]);\n}","map":{"version":3,"sources":["C:/Users/Admin/google-play/client/src/redux/user/user.saga.js"],"names":["call","all","takeLatest","put","UserActionTypes","signInSuccess","signInFailure","provider","auth","createUserProfileDocument","googleSignIn","user","signInWithPopup","userRef","userSnapShot","get","id","data","error","message","onSignInWithGoogle","GOOGLE_SIGN_IN_START","userSaga"],"mappings":"AAAA,SAASA,IAAT,EAAcC,GAAd,EAAmBC,UAAnB,EAA+BC,GAA/B,QAAyC,0BAAzC;AACA,OAAOC,eAAP,MAA4B,aAA5B;AACA,SAAQC,aAAR,EAAuBC,aAAvB,QAA2C,8BAA3C;AACA,SAASC,QAAT,EAAkBC,IAAlB,EAAwBC,yBAAxB,QAAwD,+BAAxD;AAEA,OAAO,UAAUC,YAAV,GAAwB;AAC3B,MAAG;AACE,UAAM;AAACC,MAAAA;AAAD,QAAU,MAAMH,IAAI,CAACI,eAAL,CAAqBL,QAArB,CAAtB;AACA,UAAMM,OAAO,GAAG,MAAMb,IAAI,CAACS,yBAAD,EAA2BE,IAA3B,CAA1B;AACA,UAAMG,YAAY,GAAG,MAAMD,OAAO,CAACE,GAAR,EAA3B;AAEA,UAAMZ,GAAG,CAACE,aAAa,CAAC;AAACW,MAAAA,EAAE,EAACF,YAAY,CAACE,EAAjB;AAAoB,SAAGF,YAAY,CAACG,IAAb;AAAvB,KAAD,CAAd,CAAT;AACJ,GAND,CAMC,OAAMC,KAAN,EAAY;AACT,UAAMf,GAAG,CAACG,aAAa,CAACY,KAAK,CAACC,OAAP,CAAd,CAAT;AACH;AACJ;AAED,OAAO,UAAWC,kBAAX,GAA+B;AAClC,QAAMlB,UAAU,CAACE,eAAe,CAACiB,oBAAjB,EAAsCX,YAAtC,CAAhB;AACH;AAGD,OAAO,UAAWY,QAAX,GAAqB;AACxB,QAAMrB,GAAG,CAAC,CAACD,IAAI,CAACoB,kBAAD,CAAL,CAAD,CAAT;AACH","sourcesContent":["import { call,all ,takeLatest, put} from \"@redux-saga/core/effects\";\r\nimport UserActionTypes from \"./user.type\";\r\nimport {signInSuccess, signInFailure} from '../../redux/user/user.action'\r\nimport { provider,auth ,createUserProfileDocument} from \"../../firebase/firebase.utils\";\r\n\r\nexport function* googleSignIn(){\r\n    try{\r\n         const {user}  = yield auth.signInWithPopup(provider)\r\n         const userRef = yield call(createUserProfileDocument,user)\r\n         const userSnapShot = yield userRef.get()\r\n\r\n         yield put(signInSuccess({id:userSnapShot.id,...userSnapShot.data()}))\r\n    }catch(error){\r\n        yield put(signInFailure(error.message))\r\n    }\r\n}   \r\n\r\nexport function * onSignInWithGoogle(){\r\n    yield takeLatest(UserActionTypes.GOOGLE_SIGN_IN_START,googleSignIn)\r\n}\r\n\r\n\r\nexport function * userSaga(){\r\n    yield all([call(onSignInWithGoogle)])\r\n}"]},"metadata":{},"sourceType":"module"}